CREATE TABLE WorkEvaluations (
    -- 기본 키
    evaluationId BIGINT AUTO_INCREMENT PRIMARY KEY,
    
    -- 직원 ID (FK)
    employeeId BIGINT NOT NULL,
    
    -- 평가 연도 및 분기
    evaluation_year INT NOT NULL,
    evaluation_quarter INT NOT NULL,
    
    -- 평가 점수
    attitude_score INT,
    achievement_score INT,
    collaboration_score INT,
    
    -- 평가 등급
    contribution_grade VARCHAR(2),
    total_grade VARCHAR(2),
    
    -- 상태 (Enum: 임시저장, 제출완료)
    status VARCHAR(50) NOT NULL DEFAULT '임시저장',
    
    -- 평가자 ID (FK)
    evaluatorId BIGINT,
    
    -- 타임스탬프
    createdAt DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updatedAt DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    -- 유니크 제약 조건 (직원별 연도/분기 1회)
    CONSTRAINT uk_employee_evaluation UNIQUE (employeeId, evaluation_year, evaluation_quarter)
);
ALTER TABLE WorkEvaluations 
    ADD CONSTRAINT fk_evaluation_employee 
    FOREIGN KEY (employeeId) REFERENCES employees(employeeId);

ALTER TABLE WorkEvaluations 
    ADD CONSTRAINT fk_evaluation_evaluator 
    FOREIGN KEY (evaluatorId) REFERENCES employees(employeeId);

-- 분기별 평가된 데이터!
-- 1분기
INSERT INTO WorkEvaluations (
    employeeId, evaluation_year, evaluation_quarter,
    attitude_score, achievement_score, collaboration_score,
    contribution_grade, total_grade, status, evaluatorId
) VALUES
    -- employeeId: 12341 (최인사)
    (12341, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 12345),
    (12341, 2025, 1, 5, 5, 4, 'A', 'T', '제출완료', 12347),
    (12341, 2025, 1, 4, 4, 5, 'B', 'T', '제출완료', 12348),
    (12341, 2025, 1, 5, 5, 5, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12342 (박인턴) - 협업/태도 우수
    (12342, 2025, 1, 5, 3, 5, 'B', 'T', '제출완료', 12341),
    (12342, 2025, 1, 4, 4, 5, 'B', 'T', '제출완료', 12345),
    (12342, 2025, 1, 5, 3, 4, 'C', 'T', '제출완료', 12347),
    (12342, 2025, 1, 4, 3, 5, 'B', 'T', '제출완료', 12348),

    -- employeeId: 12343 (박책임)
    (12343, 2025, 1, 3, 3, 3, 'C', 'T', '제출완료', 12341),
    (12343, 2025, 1, 4, 3, 4, 'B', 'T', '제출완료', 12345),
    (12343, 2025, 1, 3, 4, 3, 'B', 'T', '제출완료', 12347),
    (12343, 2025, 1, 4, 4, 4, 'B', 'T', '제출완료', 12348),

    -- employeeId: 12345 (김수석) - 고성과
    (12345, 2025, 1, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (12345, 2025, 1, 5, 5, 4, 'A', 'T', '제출완료', 12347),
    (12345, 2025, 1, 4, 5, 5, 'A', 'T', '제출완료', 12348),
    (12345, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12347 (윤대리)
    (12347, 2025, 1, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (12347, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 12345),
    (12347, 2025, 1, 4, 5, 4, 'A', 'T', '제출완료', 12348),
    (12347, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 18061),

    -- employeeId: 12348 (홍선임)
    (12348, 2025, 1, 4, 3, 4, 'B', 'T', '제출완료', 12341),
    (12348, 2025, 1, 4, 4, 3, 'B', 'T', '제출완료', 12345),
    (12348, 2025, 1, 3, 4, 4, 'B', 'T', '제출완료', 12347),
    (12348, 2025, 1, 4, 3, 4, 'B', 'T', '제출완료', 12358),

    -- employeeId: 12358 (정사원)
    (12358, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 12341),
    (12358, 2025, 1, 5, 5, 5, 'A', 'T', '제출완료', 12345),
    (12358, 2025, 1, 4, 4, 5, 'A', 'T', '제출완료', 12347),
    (12358, 2025, 1, 5, 4, 4, 'A', 'T', '제출완료', 12348),

    -- employeeId: 12396 (김선임) - 저성과
    (12396, 2025, 1, 2, 2, 2, 'D', 'T', '제출완료', 12341),
    (12396, 2025, 1, 3, 2, 3, 'C', 'T', '제출완료', 12345),
    (12396, 2025, 1, 2, 1, 2, 'D', 'T', '제출완료', 12347),
    (12396, 2025, 1, 3, 2, 2, 'D', 'T', '제출완료', 12348),

    -- employeeId: 18061 (송은우)
    (18061, 2025, 1, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (18061, 2025, 1, 4, 5, 4, 'A', 'T', '제출완료', 12345),
    (18061, 2025, 1, 5, 4, 5, 'A', 'T', '제출완료', 12347),
    (18061, 2025, 1, 5, 5, 4, 'A', 'T', '제출완료', 12348),

    -- employeeId: 102311 (이카페)
    (102311, 2025, 1, 3, 3, 4, 'B', 'T', '제출완료', 12341),
    (102311, 2025, 1, 4, 4, 4, 'B', 'T', '제출완료', 12345),
    (102311, 2025, 1, 3, 4, 3, 'B', 'T', '제출완료', 12347),
    (102311, 2025, 1, 4, 3, 4, 'B', 'T', '제출완료', 12348);

-- 2분기
INSERT INTO WorkEvaluations (
    employeeId, evaluation_year, evaluation_quarter,
    attitude_score, achievement_score, collaboration_score,
    contribution_grade, total_grade, status, evaluatorId
) VALUES
    -- employeeId: 12341 (최인사)
    (12341, 2025, 2, 4, 5, 4, 'A', 'T', '제출완료', 12345),
    (12341, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12347),
    (12341, 2025, 2, 4, 5, 4, 'A', 'T', '제출완료', 12348),
    (12341, 2025, 2, 5, 4, 4, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12342 (박인턴) - 성과 소폭 상승
    (12342, 2025, 2, 5, 4, 4, 'A', 'T', '제출완료', 12341),
    (12342, 2025, 2, 4, 4, 5, 'A', 'T', '제출완료', 12345),
    (12342, 2025, 2, 5, 3, 4, 'B', 'T', '제출완료', 12347),
    (12342, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12348),

    -- employeeId: 12343 (박책임)
    (12343, 2025, 2, 3, 3, 4, 'C', 'T', '제출완료', 12341),
    (12343, 2025, 2, 4, 4, 3, 'B', 'T', '제출완료', 12345),
    (12343, 2025, 2, 3, 3, 4, 'C', 'T', '제출완료', 12347),
    (12343, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12348),

    -- employeeId: 12345 (김수석) - 최우수 성과
    (12345, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (12345, 2025, 2, 4, 5, 4, 'A', 'T', '제출완료', 12347),
    (12345, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12348),
    (12345, 2025, 2, 5, 5, 4, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12347 (윤대리)
    (12347, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (12347, 2025, 2, 5, 5, 4, 'A', 'T', '제출완료', 12345),
    (12347, 2025, 2, 4, 4, 5, 'A', 'T', '제출완료', 12348),
    (12347, 2025, 2, 5, 4, 4, 'B', 'T', '제출완료', 18061),

    -- employeeId: 12348 (홍선임)
    (12348, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (12348, 2025, 2, 4, 5, 3, 'B', 'T', '제출완료', 12345),
    (12348, 2025, 2, 3, 4, 4, 'B', 'T', '제출완료', 12347),
    (12348, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12358),

    -- employeeId: 12358 (정사원)
    (12358, 2025, 2, 5, 4, 5, 'A', 'T', '제출완료', 12341),
    (12358, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12345),
    (12358, 2025, 2, 4, 4, 5, 'A', 'T', '제출완료', 12347),
    (12358, 2025, 2, 5, 4, 4, 'A', 'T', '제출완료', 12348),

    -- employeeId: 12396 (김선임) - 여전히 저조
    (12396, 2025, 2, 2, 2, 2, 'D', 'T', '제출완료', 12341),
    (12396, 2025, 2, 3, 2, 3, 'C', 'T', '제출완료', 12345),
    (12396, 2025, 2, 2, 2, 2, 'D', 'T', '제출완료', 12347),
    (12396, 2025, 2, 3, 2, 3, 'C', 'T', '제출완료', 12348),

    -- employeeId: 18061 (송은우) - 최우수 성과
    (18061, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (18061, 2025, 2, 5, 5, 4, 'A', 'T', '제출완료', 12345),
    (18061, 2025, 2, 5, 5, 5, 'A', 'T', '제출완료', 12347),
    (18061, 2025, 2, 4, 5, 4, 'A', 'T', '제출완료', 12348),

    -- employeeId: 102311 (이카페)
    (102311, 2025, 2, 3, 4, 4, 'B', 'T', '제출완료', 12341),
    (102311, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12345),
    (102311, 2025, 2, 3, 4, 3, 'B', 'T', '제출완료', 12347),
    (102311, 2025, 2, 4, 4, 4, 'B', 'T', '제출완료', 12348);

-- 3분기
INSERT INTO WorkEvaluations (
    employeeId, evaluation_year, evaluation_quarter,
    attitude_score, achievement_score, collaboration_score,
    contribution_grade, total_grade, status, evaluatorId
) VALUES
    -- employeeId: 12341 (최인사)
    (12341, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12345),
    (12341, 2025, 3, 5, 4, 4, 'A', 'T', '제출완료', 12347),
    (12341, 2025, 3, 4, 5, 5, 'A', 'T', '제출완료', 12348),
    (12341, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12342 (박인턴) - 최고 성과 기록 (종합 우수)
    (12342, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (12342, 2025, 3, 5, 4, 5, 'A', 'T', '제출완료', 12345),
    (12342, 2025, 3, 5, 5, 4, 'A', 'T', '제출완료', 12347),
    (12342, 2025, 3, 4, 5, 5, 'A', 'T', '제출완료', 12348),

    -- employeeId: 12343 (박책임)
    (12343, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (12343, 2025, 3, 4, 4, 3, 'B', 'T', '제출완료', 12345),
    (12343, 2025, 3, 3, 3, 4, 'C', 'T', '제출완료', 12347),
    (12343, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12348),

    -- employeeId: 12345 (김수석) - 고성과 유지
    (12345, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (12345, 2025, 3, 4, 5, 4, 'A', 'T', '제출완료', 12347),
    (12345, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12348),
    (12345, 2025, 3, 5, 4, 5, 'A', 'T', '제출완료', 12358),

    -- employeeId: 12347 (윤대리) - 종합 최우수
    (12347, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (12347, 2025, 3, 5, 5, 4, 'A', 'T', '제출완료', 12345),
    (12347, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12348),
    (12347, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 18061),

    -- employeeId: 12348 (홍선임)
    (12348, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (12348, 2025, 3, 4, 5, 3, 'B', 'T', '제출완료', 12345),
    (12348, 2025, 3, 3, 4, 4, 'B', 'T', '제출완료', 12347),
    (12348, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12358),

    -- employeeId: 12358 (정사원)
    (12358, 2025, 3, 5, 4, 5, 'A', 'T', '제출완료', 12341),
    (12358, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12345),
    (12358, 2025, 3, 4, 4, 5, 'A', 'T', '제출완료', 12347),
    (12358, 2025, 3, 5, 5, 4, 'A', 'T', '제출완료', 12348),

    -- employeeId: 12396 (김선임) - 성장 (저성과 극복)
    (12396, 2025, 3, 4, 3, 4, 'B', 'T', '제출완료', 12341),
    (12396, 2025, 3, 4, 4, 3, 'B', 'T', '제출완료', 12345),
    (12396, 2025, 3, 3, 3, 4, 'C', 'T', '제출완료', 12347),
    (12396, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12348),

    -- employeeId: 18061 (송은우)
    (18061, 2025, 3, 5, 5, 5, 'A', 'T', '제출완료', 12341),
    (18061, 2025, 3, 5, 4, 5, 'A', 'T', '제출완료', 12345),
    (18061, 2025, 3, 5, 5, 4, 'A', 'T', '제출완료', 12347),
    (18061, 2025, 3, 4, 5, 5, 'A', 'T', '제출완료', 12348),

    -- employeeId: 102311 (이카페)
    (102311, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12341),
    (102311, 2025, 3, 4, 4, 3, 'B', 'T', '제출완료', 12345),
    (102311, 2025, 3, 3, 4, 4, 'B', 'T', '제출완료', 12347),
    (102311, 2025, 3, 4, 4, 4, 'B', 'T', '제출완료', 12348);